{
  "hash": "87b07c28e48bb0158e14103649a7049d",
  "result": {
    "markdown": "---\ntitle: \"In-class Exercise 1\"\nauthor: \"Chen Jinghui\"\ndate: \"Aug 26 2024\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  message: false #no warning messages go out\n  freeze: true  #will not re-render all items\n---\n\n\n**Setup**\n\nLoad Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(sf, tidyverse, tmap, ggstatsplot)\n```\n:::\n\n\nImporting polygon feature data in shapefile format\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmpsz14_shp = st_read(dsn = \"C:/jhui-chen/ISSS626-GAA/In-Class_Ex/In-Class_Ex01/data\",\nlayer = \"MP14_SUBZONE_WEB_PL\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `MP14_SUBZONE_WEB_PL' from data source \n  `C:\\jhui-chen\\ISSS626-GAA\\In-Class_Ex\\In-Class_Ex01\\data' using driver `ESRI Shapefile'\nSimple feature collection with 323 features and 15 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\nProjected CRS: SVY21\n```\n:::\n\n```{.r .cell-code}\nclass(mpsz14_shp)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"sf\"         \"data.frame\"\n```\n:::\n:::\n\n\nImporting GIS data in kml format KML file is not working...\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmpsz14_kml = st_read(\"C:/jhui-chen/ISSS626-GAA/In-Class_Ex/In-Class_Ex01/data/MasterPlan2014SubzoneBoundaryWebKML.kml\")\n```\n:::\n\n\nUsing existing shpfile to convert back to kml format\n\n\n::: {.cell}\n\n```{.r .cell-code}\nst_write(mpsz14_shp,\n        \"C:/jhui-chen/ISSS626-GAA/In-Class_Ex/In-Class_Ex01/data/MasterPlan2014SubzoneBoundaryWebKML.kml\", \n        delete_dsn = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nDeleting source `C:/jhui-chen/ISSS626-GAA/In-Class_Ex/In-Class_Ex01/data/MasterPlan2014SubzoneBoundaryWebKML.kml' using driver `KML'\nWriting layer `MasterPlan2014SubzoneBoundaryWebKML' to data source \n  `C:/jhui-chen/ISSS626-GAA/In-Class_Ex/In-Class_Ex01/data/MasterPlan2014SubzoneBoundaryWebKML.kml' using driver `KML'\nWriting 323 features with 15 fields and geometry type Multi Polygon.\n```\n:::\n:::\n\n\nImporting polygon feature data in shapefile format\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmpsz19_shp = st_read(dsn = \"C:/jhui-chen/ISSS626-GAA/In-Class_Ex/In-Class_Ex01/data\",\nlayer = \"MPSZ-2019\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `MPSZ-2019' from data source \n  `C:\\jhui-chen\\ISSS626-GAA\\In-Class_Ex\\In-Class_Ex01\\data' using driver `ESRI Shapefile'\nSimple feature collection with 332 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 103.6057 ymin: 1.158699 xmax: 104.0885 ymax: 1.470775\nGeodetic CRS:  WGS 84\n```\n:::\n\n```{.r .cell-code}\nclass(mpsz19_shp)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"sf\"         \"data.frame\"\n```\n:::\n:::\n\n\nImporting GIS data in kml format. Note that the tidyiness of this dataset is not the same as the shp file version, it is bad.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmpsz19_kml = st_read(\"C:/jhui-chen/ISSS626-GAA/In-Class_Ex/In-Class_Ex01/data/MasterPlan2019SubzoneBoundaryNoSeaKML.kml\")\n```\n:::\n\n\nImporting polygon feature data in shapefile format. The CRS (coordinate reference system is in WGS84, in decimal degree systems) This is a geographic coordinate system. Must check before doing distance analysis\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmpsz19_shp = st_read(dsn = \"C:/jhui-chen/ISSS626-GAA/In-Class_Ex/In-Class_Ex01/data\",\nlayer = \"MPSZ-2019\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `MPSZ-2019' from data source \n  `C:\\jhui-chen\\ISSS626-GAA\\In-Class_Ex\\In-Class_Ex01\\data' using driver `ESRI Shapefile'\nSimple feature collection with 332 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 103.6057 ymin: 1.158699 xmax: 104.0885 ymax: 1.470775\nGeodetic CRS:  WGS 84\n```\n:::\n:::\n\n\nTransform coordinate system The %\\>% allows you to run the two functions without creating an intermediate dataset. Will now be in svy21 format\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmpsz19_shp <- st_read(dsn = \"data/\",\n                      layer = \"MPSZ-2019\") %>%\n  st_transform(crs = 3414)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nReading layer `MPSZ-2019' from data source \n  `C:\\jhui-chen\\ISSS626-GAA\\In-Class_Ex\\In-Class_Ex01\\data' using driver `ESRI Shapefile'\nSimple feature collection with 332 features and 6 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 103.6057 ymin: 1.158699 xmax: 104.0885 ymax: 1.470775\nGeodetic CRS:  WGS 84\n```\n:::\n\n```{.r .cell-code}\nst_geometry(mpsz19_shp)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nGeometry set for 332 features \nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\nProjected CRS: SVY21 / Singapore TM\nFirst 5 geometries:\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nMULTIPOLYGON (((33222.98 29588.13, 33222.51 295...\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nMULTIPOLYGON (((28481.45 30886.22, 28483.41 308...\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nMULTIPOLYGON (((28087.34 30541, 28087.54 30540....\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nMULTIPOLYGON (((14557.7 30447.21, 14562.89 3044...\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nMULTIPOLYGON (((29542.53 31041.2, 29553.72 3103...\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}